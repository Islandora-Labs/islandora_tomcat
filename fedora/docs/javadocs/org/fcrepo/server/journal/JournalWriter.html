<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_25) on Sat Sep 14 01:11:22 EDT 2013 -->
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<title>JournalWriter (Fedora Repository Project 3.7.0 API)</title>
<meta name="date" content="2013-09-14">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="JournalWriter (Fedora Repository Project 3.7.0 API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/JournalWriter.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/fcrepo/server/journal/JournalWorker.html" title="interface in org.fcrepo.server.journal"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../org/fcrepo/server/journal/ServerInterface.html" title="interface in org.fcrepo.server.journal"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/fcrepo/server/journal/JournalWriter.html" target="_top">Frames</a></li>
<li><a href="JournalWriter.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.fcrepo.server.journal</div>
<h2 title="Class JournalWriter" class="title">Class JournalWriter</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../../org/fcrepo/server/journal/xmlhelpers/AbstractXmlWriter.html" title="class in org.fcrepo.server.journal.xmlhelpers">org.fcrepo.server.journal.xmlhelpers.AbstractXmlWriter</a></li>
<li>
<ul class="inheritance">
<li>org.fcrepo.server.journal.JournalWriter</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../org/fcrepo/server/journal/JournalConstants.html" title="interface in org.fcrepo.server.journal">JournalConstants</a></dd>
</dl>
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../../../org/fcrepo/server/journal/readerwriter/multicast/MulticastJournalWriter.html" title="class in org.fcrepo.server.journal.readerwriter.multicast">MulticastJournalWriter</a>, <a href="../../../../org/fcrepo/server/journal/readerwriter/multifile/MultiFileJournalWriter.html" title="class in org.fcrepo.server.journal.readerwriter.multifile">MultiFileJournalWriter</a>, <a href="../../../../org/fcrepo/server/journal/readerwriter/singlefile/SingleFileJournalWriter.html" title="class in org.fcrepo.server.journal.readerwriter.singlefile">SingleFileJournalWriter</a></dd>
</dl>
<hr>
<br>
<pre>public abstract class <span class="strong">JournalWriter</span>
extends <a href="../../../../org/fcrepo/server/journal/xmlhelpers/AbstractXmlWriter.html" title="class in org.fcrepo.server.journal.xmlhelpers">AbstractXmlWriter</a></pre>
<div class="block"><p>
 The abstract base for all JournalWriter classes.
 </p>
 <p>
 Each child class is responsible for providing an XMLEventWriter that will
 receive the JournalEntry tag. This class will format a JournalEntry object
 into XML and add it to the XMLEventWriter.
 </p>
 <p>
 Note that the writing of an entry is necessarily a three step process,
 consisting of
 <ol>
 <li>calling <a href="../../../../org/fcrepo/server/journal/JournalWriter.html#prepareToWriteJournalEntry()"><code>prepareToWriteJournalEntry()</code></a>,</li>
 <li>invoking the management method,</li>
 <li>calling <a href="../../../../org/fcrepo/server/journal/JournalWriter.html#writeJournalEntry(org.fcrepo.server.journal.entry.CreatorJournalEntry)"><code>writeJournalEntry(CreatorJournalEntry)</code></a></li>
 </ol>
 Several factors combine to require this sequence.
 <ul>
 <li>Each new journal file starts with a repository hash.</li>
 <li>Repository hashes are expensive to calculate (on the order of 10
 seconds). We don't want to calculate a hash unless it is needed for a new
 journal file.</li>
 <li>We cannot predict in advance which journal entry will require that a new
 journal file be opened. The preceding file may be closed asynchronously as a
 result of a period of inactivity.</li>
 <li>The repository hash must be calculated before the management method is
 invoked, so the receiver can confirm the file before making any changes to
 its own repository.</li>
 <li>The journal entry must be written after the management method is
 invoked. The management method may add values to the context object in the
 <a href="../../../../org/fcrepo/server/journal/entry/CreatorJournalEntry.html" title="class in org.fcrepo.server.journal.entry"><code>CreatorJournalEntry</code></a>, and these values must be written to the
 journal.</li>
 </ul>
 </p></div>
<dl><dt><span class="strong">Author:</span></dt>
  <dd>Jim Blake</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="http://java.sun.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../org/fcrepo/server/journal/JournalWriter.html#parameters">parameters</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/fcrepo/server/journal/JournalWriter.html#role">role</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../../org/fcrepo/server/journal/ServerInterface.html" title="interface in org.fcrepo.server.journal">ServerInterface</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/fcrepo/server/journal/JournalWriter.html#server">server</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/fcrepo/server/journal/JournalWriter.html#SYNCHRONIZER">SYNCHRONIZER</a></strong></code>
<div class="block">A single object on which to synchronize all writing operations.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields_inherited_from_class_org.fcrepo.server.journal.JournalConstants">
<!--   -->
</a>
<h3>Fields inherited from interface&nbsp;org.fcrepo.server.journal.<a href="../../../../org/fcrepo/server/journal/JournalConstants.html" title="interface in org.fcrepo.server.journal">JournalConstants</a></h3>
<code><a href="../../../../org/fcrepo/server/journal/JournalConstants.html#ARGUMENT_NAME_ALT_IDS">ARGUMENT_NAME_ALT_IDS</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#ARGUMENT_NAME_CHECKSUM">ARGUMENT_NAME_CHECKSUM</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#ARGUMENT_NAME_CHECKSUM_TYPE">ARGUMENT_NAME_CHECKSUM_TYPE</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#ARGUMENT_NAME_CONTEXT">ARGUMENT_NAME_CONTEXT</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#ARGUMENT_NAME_CONTROL_GROUP">ARGUMENT_NAME_CONTROL_GROUP</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#ARGUMENT_NAME_DATATYPE">ARGUMENT_NAME_DATATYPE</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#ARGUMENT_NAME_DISSEMINATOR_ID">ARGUMENT_NAME_DISSEMINATOR_ID</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#ARGUMENT_NAME_DISSEMINATOR_LABEL">ARGUMENT_NAME_DISSEMINATOR_LABEL</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#ARGUMENT_NAME_DISSEMINATOR_STATE">ARGUMENT_NAME_DISSEMINATOR_STATE</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#ARGUMENT_NAME_DS_CONTENT">ARGUMENT_NAME_DS_CONTENT</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#ARGUMENT_NAME_DS_ID">ARGUMENT_NAME_DS_ID</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#ARGUMENT_NAME_DS_LABEL">ARGUMENT_NAME_DS_LABEL</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#ARGUMENT_NAME_DS_LOCATION">ARGUMENT_NAME_DS_LOCATION</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#ARGUMENT_NAME_DS_STATE">ARGUMENT_NAME_DS_STATE</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#ARGUMENT_NAME_ENCODING">ARGUMENT_NAME_ENCODING</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#ARGUMENT_NAME_END_DATE">ARGUMENT_NAME_END_DATE</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#ARGUMENT_NAME_FORCE">ARGUMENT_NAME_FORCE</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#ARGUMENT_NAME_FORMAT">ARGUMENT_NAME_FORMAT</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#ARGUMENT_NAME_FORMAT_URI">ARGUMENT_NAME_FORMAT_URI</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#ARGUMENT_NAME_IN">ARGUMENT_NAME_IN</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#ARGUMENT_NAME_IS_LITERAL">ARGUMENT_NAME_IS_LITERAL</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#ARGUMENT_NAME_LABEL">ARGUMENT_NAME_LABEL</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#ARGUMENT_NAME_LAST_MODIFIED_DATE">ARGUMENT_NAME_LAST_MODIFIED_DATE</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#ARGUMENT_NAME_LOCATION">ARGUMENT_NAME_LOCATION</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#ARGUMENT_NAME_LOG_MESSAGE">ARGUMENT_NAME_LOG_MESSAGE</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#ARGUMENT_NAME_MIME_TYPE">ARGUMENT_NAME_MIME_TYPE</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#ARGUMENT_NAME_NAMESPACE">ARGUMENT_NAME_NAMESPACE</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#ARGUMENT_NAME_NEW_PID">ARGUMENT_NAME_NEW_PID</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#ARGUMENT_NAME_NUM_PIDS">ARGUMENT_NAME_NUM_PIDS</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#ARGUMENT_NAME_OBJECT">ARGUMENT_NAME_OBJECT</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#ARGUMENT_NAME_OWNERID">ARGUMENT_NAME_OWNERID</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#ARGUMENT_NAME_PID">ARGUMENT_NAME_PID</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#ARGUMENT_NAME_RELATIONSHIP">ARGUMENT_NAME_RELATIONSHIP</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#ARGUMENT_NAME_SERIALIZATION">ARGUMENT_NAME_SERIALIZATION</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#ARGUMENT_NAME_START_DATE">ARGUMENT_NAME_START_DATE</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#ARGUMENT_NAME_STATE">ARGUMENT_NAME_STATE</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#ARGUMENT_NAME_VERSION_DATE">ARGUMENT_NAME_VERSION_DATE</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#ARGUMENT_NAME_VERSIONABLE">ARGUMENT_NAME_VERSIONABLE</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#ARGUMENT_TYPE_BINDING_MAP">ARGUMENT_TYPE_BINDING_MAP</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#ARGUMENT_TYPE_BOOLEAN">ARGUMENT_TYPE_BOOLEAN</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#ARGUMENT_TYPE_DATE">ARGUMENT_TYPE_DATE</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#ARGUMENT_TYPE_INTEGER">ARGUMENT_TYPE_INTEGER</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#ARGUMENT_TYPE_NULL">ARGUMENT_TYPE_NULL</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#ARGUMENT_TYPE_STREAM">ARGUMENT_TYPE_STREAM</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#ARGUMENT_TYPE_STRING">ARGUMENT_TYPE_STRING</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#ARGUMENT_TYPE_STRINGARRAY">ARGUMENT_TYPE_STRINGARRAY</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#CONTEXT_MAPNAME_ACTION">CONTEXT_MAPNAME_ACTION</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#CONTEXT_MAPNAME_ENVIRONMENT">CONTEXT_MAPNAME_ENVIRONMENT</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#CONTEXT_MAPNAME_RECOVERY">CONTEXT_MAPNAME_RECOVERY</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#CONTEXT_MAPNAME_RESOURCE">CONTEXT_MAPNAME_RESOURCE</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#CONTEXT_MAPNAME_SUBJECT">CONTEXT_MAPNAME_SUBJECT</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#DEFAULT_AGE_LIMIT">DEFAULT_AGE_LIMIT</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#DEFAULT_FILENAME_PREFIX">DEFAULT_FILENAME_PREFIX</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#DEFAULT_SIZE_LIMIT">DEFAULT_SIZE_LIMIT</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#DOCUMENT_ENCODING">DOCUMENT_ENCODING</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#DOCUMENT_VERSION">DOCUMENT_VERSION</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#FORMAT_JOURNAL_FILENAME_TIMESTAMP">FORMAT_JOURNAL_FILENAME_TIMESTAMP</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#METHOD_ADD_DATASTREAM">METHOD_ADD_DATASTREAM</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#METHOD_ADD_DISSEMINATOR">METHOD_ADD_DISSEMINATOR</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#METHOD_ADD_RELATIONSHIP">METHOD_ADD_RELATIONSHIP</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#METHOD_GET_NEXT_PID">METHOD_GET_NEXT_PID</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#METHOD_INGEST">METHOD_INGEST</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#METHOD_MODIFY_DATASTREAM_BY_REFERENCE">METHOD_MODIFY_DATASTREAM_BY_REFERENCE</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#METHOD_MODIFY_DATASTREAM_BY_VALUE">METHOD_MODIFY_DATASTREAM_BY_VALUE</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#METHOD_MODIFY_DISSEMINATOR">METHOD_MODIFY_DISSEMINATOR</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#METHOD_MODIFY_OBJECT">METHOD_MODIFY_OBJECT</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#METHOD_PURGE_DATASTREAM">METHOD_PURGE_DATASTREAM</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#METHOD_PURGE_DISSEMINATOR">METHOD_PURGE_DISSEMINATOR</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#METHOD_PURGE_OBJECT">METHOD_PURGE_OBJECT</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#METHOD_PURGE_RELATIONSHIP">METHOD_PURGE_RELATIONSHIP</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#METHOD_PUT_TEMP_STREAM">METHOD_PUT_TEMP_STREAM</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#METHOD_SET_DATASTREAM_STATE">METHOD_SET_DATASTREAM_STATE</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#METHOD_SET_DATASTREAM_VERSIONABLE">METHOD_SET_DATASTREAM_VERSIONABLE</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#METHOD_SET_DISSEMINATOR_STATE">METHOD_SET_DISSEMINATOR_STATE</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#PARAMETER_IGNORE_HASH">PARAMETER_IGNORE_HASH</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#PARAMETER_JOURNAL_FILE_AGE_LIMIT">PARAMETER_JOURNAL_FILE_AGE_LIMIT</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#PARAMETER_JOURNAL_FILE_SIZE_LIMIT">PARAMETER_JOURNAL_FILE_SIZE_LIMIT</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#PARAMETER_JOURNAL_FILENAME_PREFIX">PARAMETER_JOURNAL_FILENAME_PREFIX</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#PARAMETER_JOURNAL_MODE">PARAMETER_JOURNAL_MODE</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#PARAMETER_JOURNAL_READER_CLASSNAME">PARAMETER_JOURNAL_READER_CLASSNAME</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#PARAMETER_JOURNAL_RECOVERY_LOG_CLASSNAME">PARAMETER_JOURNAL_RECOVERY_LOG_CLASSNAME</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#PARAMETER_JOURNAL_WRITER_CLASSNAME">PARAMETER_JOURNAL_WRITER_CLASSNAME</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#PARAMETER_RECOVERY_LOG_FILENAME">PARAMETER_RECOVERY_LOG_FILENAME</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#PARAMETER_RECOVERY_LOG_LEVEL">PARAMETER_RECOVERY_LOG_LEVEL</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#PASSWORD_CIPHER_TYPE">PASSWORD_CIPHER_TYPE</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#QNAME_ATTR_BIND_KEY_NAME">QNAME_ATTR_BIND_KEY_NAME</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#QNAME_ATTR_BIND_LABEL">QNAME_ATTR_BIND_LABEL</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#QNAME_ATTR_CLIENT_IP">QNAME_ATTR_CLIENT_IP</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#QNAME_ATTR_DATASTREAM_ID">QNAME_ATTR_DATASTREAM_ID</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#QNAME_ATTR_DS_BIND_MAP_ID">QNAME_ATTR_DS_BIND_MAP_ID</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#QNAME_ATTR_DS_BIND_MAP_LABEL">QNAME_ATTR_DS_BIND_MAP_LABEL</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#QNAME_ATTR_DS_BIND_MECHANISM_PID">QNAME_ATTR_DS_BIND_MECHANISM_PID</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#QNAME_ATTR_LOGIN_ID">QNAME_ATTR_LOGIN_ID</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#QNAME_ATTR_METHOD">QNAME_ATTR_METHOD</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#QNAME_ATTR_NAME">QNAME_ATTR_NAME</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#QNAME_ATTR_PASSWORD_TYPE">QNAME_ATTR_PASSWORD_TYPE</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#QNAME_ATTR_REPOSITORY_HASH">QNAME_ATTR_REPOSITORY_HASH</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#QNAME_ATTR_SEQ_NO">QNAME_ATTR_SEQ_NO</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#QNAME_ATTR_STATE">QNAME_ATTR_STATE</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#QNAME_ATTR_TIMESTAMP">QNAME_ATTR_TIMESTAMP</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#QNAME_ATTR_TYPE">QNAME_ATTR_TYPE</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#QNAME_ATTR_USERID">QNAME_ATTR_USERID</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#QNAME_TAG_ARGUMENT">QNAME_TAG_ARGUMENT</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#QNAME_TAG_ARRAYELEMENT">QNAME_TAG_ARRAYELEMENT</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#QNAME_TAG_CONTEXT">QNAME_TAG_CONTEXT</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#QNAME_TAG_DS_BINDING">QNAME_TAG_DS_BINDING</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#QNAME_TAG_DS_BINDING_MAP">QNAME_TAG_DS_BINDING_MAP</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#QNAME_TAG_JOURNAL">QNAME_TAG_JOURNAL</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#QNAME_TAG_JOURNAL_ENTRY">QNAME_TAG_JOURNAL_ENTRY</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#QNAME_TAG_MULTI_VALUE_MAP">QNAME_TAG_MULTI_VALUE_MAP</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#QNAME_TAG_MULTI_VALUE_MAP_KEY">QNAME_TAG_MULTI_VALUE_MAP_KEY</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#QNAME_TAG_MULTI_VALUE_MAP_VALUE">QNAME_TAG_MULTI_VALUE_MAP_VALUE</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#QNAME_TAG_NOOP">QNAME_TAG_NOOP</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#QNAME_TAG_NOW">QNAME_TAG_NOW</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#QNAME_TAG_PASSWORD">QNAME_TAG_PASSWORD</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#SYSTEM_PROPERTY_PREFIX">SYSTEM_PROPERTY_PREFIX</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#TIMESTAMP_FORMAT">TIMESTAMP_FORMAT</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#VALUE_FALSE">VALUE_FALSE</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#VALUE_JOURNAL_MODE_NORMAL">VALUE_JOURNAL_MODE_NORMAL</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#VALUE_JOURNAL_MODE_RECOVER">VALUE_JOURNAL_MODE_RECOVER</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#VALUE_RECOVERY_LOG_LEVEL_HIGH">VALUE_RECOVERY_LOG_LEVEL_HIGH</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#VALUE_RECOVERY_LOG_LEVEL_LOW">VALUE_RECOVERY_LOG_LEVEL_LOW</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#VALUE_RECOVERY_LOG_LEVEL_MEDIUM">VALUE_RECOVERY_LOG_LEVEL_MEDIUM</a>, <a href="../../../../org/fcrepo/server/journal/JournalConstants.html#VALUE_TRUE">VALUE_TRUE</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier</th>
<th class="colLast" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected </code></td>
<td class="colLast"><code><strong><a href="../../../../org/fcrepo/server/journal/JournalWriter.html#JournalWriter(java.util.Map, java.lang.String, org.fcrepo.server.journal.ServerInterface)">JournalWriter</a></strong>(<a href="http://java.sun.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;parameters,
             <a href="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;role,
             <a href="../../../../org/fcrepo/server/journal/ServerInterface.html" title="interface in org.fcrepo.server.journal">ServerInterface</a>&nbsp;server)</code>
<div class="block">Concrete sub-classes must implement this constructor.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="../../../../org/fcrepo/server/journal/JournalWriter.html" title="class in org.fcrepo.server.journal">JournalWriter</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/fcrepo/server/journal/JournalWriter.html#getInstance(java.util.Map, java.lang.String, org.fcrepo.server.journal.ServerInterface)">getInstance</a></strong>(<a href="http://java.sun.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;parameters,
           <a href="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;role,
           <a href="../../../../org/fcrepo/server/journal/ServerInterface.html" title="interface in org.fcrepo.server.journal">ServerInterface</a>&nbsp;server)</code>
<div class="block">Create an instance of the proper JournalWriter child class, as determined
 by the server parameters.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>abstract void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/fcrepo/server/journal/JournalWriter.html#prepareToWriteJournalEntry()">prepareToWriteJournalEntry</a></strong>()</code>
<div class="block">Concrete sub-classes should insure that a message transport is ready, and
 call {@link #writeDocumentHeader(XMLEventWriter) if needed.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>abstract void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/fcrepo/server/journal/JournalWriter.html#shutdown()">shutdown</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/fcrepo/server/journal/JournalWriter.html#writeDocumentHeader(javax.xml.stream.XMLEventWriter)">writeDocumentHeader</a></strong>(<a href="http://java.sun.com/javase/6/docs/api/javax/xml/stream/XMLEventWriter.html?is-external=true" title="class or interface in javax.xml.stream">XMLEventWriter</a>&nbsp;writer)</code>
<div class="block">Subclasses should call this method to initialize a new Journal file.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/fcrepo/server/journal/JournalWriter.html#writeDocumentHeader(javax.xml.stream.XMLEventWriter, java.lang.String, java.util.Date)">writeDocumentHeader</a></strong>(<a href="http://java.sun.com/javase/6/docs/api/javax/xml/stream/XMLEventWriter.html?is-external=true" title="class or interface in javax.xml.stream">XMLEventWriter</a>&nbsp;writer,
                   <a href="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;repositoryHash,
                   <a href="http://java.sun.com/javase/6/docs/api/java/util/Date.html?is-external=true" title="class or interface in java.util">Date</a>&nbsp;currentDate)</code>
<div class="block">Subclasses should call this method to initialize a new Journal file, if
 they already know the repository hash and the current date.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/fcrepo/server/journal/JournalWriter.html#writeDocumentTrailer(javax.xml.stream.XMLEventWriter)">writeDocumentTrailer</a></strong>(<a href="http://java.sun.com/javase/6/docs/api/javax/xml/stream/XMLEventWriter.html?is-external=true" title="class or interface in javax.xml.stream">XMLEventWriter</a>&nbsp;writer)</code>
<div class="block">Subclasses should call this method to close a Journal file.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>abstract void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/fcrepo/server/journal/JournalWriter.html#writeJournalEntry(org.fcrepo.server.journal.entry.CreatorJournalEntry)">writeJournalEntry</a></strong>(<a href="../../../../org/fcrepo/server/journal/entry/CreatorJournalEntry.html" title="class in org.fcrepo.server.journal.entry">CreatorJournalEntry</a>&nbsp;journalEntry)</code>
<div class="block">Concrete sub-classes should provide an XMLEventWriter, and call
 <code>#writeJournalEntry(XMLEventWriter)</code>, after which, they should
 probably flush the XMLEventWriter.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/fcrepo/server/journal/JournalWriter.html#writeJournalEntry(org.fcrepo.server.journal.entry.CreatorJournalEntry, javax.xml.stream.XMLEventWriter)">writeJournalEntry</a></strong>(<a href="../../../../org/fcrepo/server/journal/entry/CreatorJournalEntry.html" title="class in org.fcrepo.server.journal.entry">CreatorJournalEntry</a>&nbsp;journalEntry,
                 <a href="http://java.sun.com/javase/6/docs/api/javax/xml/stream/XMLEventWriter.html?is-external=true" title="class or interface in javax.xml.stream">XMLEventWriter</a>&nbsp;writer)</code>
<div class="block">Format a JournalEntry object and write a JournalEntry tag to the journal.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_org.fcrepo.server.journal.xmlhelpers.AbstractXmlWriter">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.fcrepo.server.journal.xmlhelpers.<a href="../../../../org/fcrepo/server/journal/xmlhelpers/AbstractXmlWriter.html" title="class in org.fcrepo.server.journal.xmlhelpers">AbstractXmlWriter</a></h3>
<code><a href="../../../../org/fcrepo/server/journal/xmlhelpers/AbstractXmlWriter.html#putAttribute(javax.xml.stream.XMLEventWriter, javax.xml.namespace.QName, java.lang.String)">putAttribute</a>, <a href="../../../../org/fcrepo/server/journal/xmlhelpers/AbstractXmlWriter.html#putAttributeIfNotNull(javax.xml.stream.XMLEventWriter, javax.xml.namespace.QName, java.lang.String)">putAttributeIfNotNull</a>, <a href="../../../../org/fcrepo/server/journal/xmlhelpers/AbstractXmlWriter.html#putCharacters(javax.xml.stream.XMLEventWriter, java.lang.String)">putCharacters</a>, <a href="../../../../org/fcrepo/server/journal/xmlhelpers/AbstractXmlWriter.html#putEndDocument(javax.xml.stream.XMLEventWriter)">putEndDocument</a>, <a href="../../../../org/fcrepo/server/journal/xmlhelpers/AbstractXmlWriter.html#putEndTag(javax.xml.stream.XMLEventWriter, javax.xml.namespace.QName)">putEndTag</a>, <a href="../../../../org/fcrepo/server/journal/xmlhelpers/AbstractXmlWriter.html#putStartDocument(javax.xml.stream.XMLEventWriter)">putStartDocument</a>, <a href="../../../../org/fcrepo/server/journal/xmlhelpers/AbstractXmlWriter.html#putStartTag(javax.xml.stream.XMLEventWriter, javax.xml.namespace.QName)">putStartTag</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a>, <a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long, int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="SYNCHRONIZER">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>SYNCHRONIZER</h4>
<pre>public static final&nbsp;<a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a> SYNCHRONIZER</pre>
<div class="block">A single object on which to synchronize all writing operations. The most
 obvious use is in CreatorJournalEntry to be sure that Management methods
 are single-threaded. A less obvious, but necessary use is to synchronize
 the timeout on JournalFiles, so a file is not closed in the middle of an
 operation.</div>
</li>
</ul>
<a name="role">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>role</h4>
<pre>protected final&nbsp;<a href="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> role</pre>
</li>
</ul>
<a name="parameters">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>parameters</h4>
<pre>protected final&nbsp;<a href="http://java.sun.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt; parameters</pre>
</li>
</ul>
<a name="server">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>server</h4>
<pre>protected final&nbsp;<a href="../../../../org/fcrepo/server/journal/ServerInterface.html" title="interface in org.fcrepo.server.journal">ServerInterface</a> server</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="JournalWriter(java.util.Map, java.lang.String, org.fcrepo.server.journal.ServerInterface)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>JournalWriter</h4>
<pre>protected&nbsp;JournalWriter(<a href="http://java.sun.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;parameters,
             <a href="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;role,
             <a href="../../../../org/fcrepo/server/journal/ServerInterface.html" title="interface in org.fcrepo.server.journal">ServerInterface</a>&nbsp;server)</pre>
<div class="block">Concrete sub-classes must implement this constructor.</div>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getInstance(java.util.Map, java.lang.String, org.fcrepo.server.journal.ServerInterface)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getInstance</h4>
<pre>public static&nbsp;<a href="../../../../org/fcrepo/server/journal/JournalWriter.html" title="class in org.fcrepo.server.journal">JournalWriter</a>&nbsp;getInstance(<a href="http://java.sun.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;parameters,
                        <a href="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;role,
                        <a href="../../../../org/fcrepo/server/journal/ServerInterface.html" title="interface in org.fcrepo.server.journal">ServerInterface</a>&nbsp;server)
                                 throws <a href="../../../../org/fcrepo/server/journal/JournalException.html" title="class in org.fcrepo.server.journal">JournalException</a></pre>
<div class="block">Create an instance of the proper JournalWriter child class, as determined
 by the server parameters.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../org/fcrepo/server/journal/JournalException.html" title="class in org.fcrepo.server.journal">JournalException</a></code></dd></dl>
</li>
</ul>
<a name="shutdown()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>shutdown</h4>
<pre>public abstract&nbsp;void&nbsp;shutdown()
                       throws <a href="../../../../org/fcrepo/server/journal/JournalException.html" title="class in org.fcrepo.server.journal">JournalException</a></pre>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../org/fcrepo/server/journal/JournalException.html" title="class in org.fcrepo.server.journal">JournalException</a></code></dd></dl>
</li>
</ul>
<a name="prepareToWriteJournalEntry()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>prepareToWriteJournalEntry</h4>
<pre>public abstract&nbsp;void&nbsp;prepareToWriteJournalEntry()
                                         throws <a href="../../../../org/fcrepo/server/journal/JournalException.html" title="class in org.fcrepo.server.journal">JournalException</a></pre>
<div class="block">Concrete sub-classes should insure that a message transport is ready, and
 call #writeDocumentHeader(XMLEventWriter) if needed. This method
 is called separately from {@link #writeJournalEntry(CreatorJournalEntry)},
 so we can obtain the repository hash before the Management method is
 invoked.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../org/fcrepo/server/journal/JournalException.html" title="class in org.fcrepo.server.journal">JournalException</a></code></dd></dl>
</li>
</ul>
<a name="writeJournalEntry(org.fcrepo.server.journal.entry.CreatorJournalEntry)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeJournalEntry</h4>
<pre>public abstract&nbsp;void&nbsp;writeJournalEntry(<a href="../../../../org/fcrepo/server/journal/entry/CreatorJournalEntry.html" title="class in org.fcrepo.server.journal.entry">CreatorJournalEntry</a>&nbsp;journalEntry)
                                throws <a href="../../../../org/fcrepo/server/journal/JournalException.html" title="class in org.fcrepo.server.journal">JournalException</a></pre>
<div class="block">Concrete sub-classes should provide an XMLEventWriter, and call
 <code>#writeJournalEntry(XMLEventWriter)</code>, after which, they should
 probably flush the XMLEventWriter. This method is called after the
 Management method is invoked, since the Management method may modify the
 context object in the journal entry.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../org/fcrepo/server/journal/JournalException.html" title="class in org.fcrepo.server.journal">JournalException</a></code></dd></dl>
</li>
</ul>
<a name="writeDocumentHeader(javax.xml.stream.XMLEventWriter)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeDocumentHeader</h4>
<pre>protected&nbsp;void&nbsp;writeDocumentHeader(<a href="http://java.sun.com/javase/6/docs/api/javax/xml/stream/XMLEventWriter.html?is-external=true" title="class or interface in javax.xml.stream">XMLEventWriter</a>&nbsp;writer)
                            throws <a href="../../../../org/fcrepo/server/journal/JournalException.html" title="class in org.fcrepo.server.journal">JournalException</a></pre>
<div class="block">Subclasses should call this method to initialize a new Journal file.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../org/fcrepo/server/journal/JournalException.html" title="class in org.fcrepo.server.journal">JournalException</a></code></dd></dl>
</li>
</ul>
<a name="writeDocumentHeader(javax.xml.stream.XMLEventWriter, java.lang.String, java.util.Date)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeDocumentHeader</h4>
<pre>protected&nbsp;void&nbsp;writeDocumentHeader(<a href="http://java.sun.com/javase/6/docs/api/javax/xml/stream/XMLEventWriter.html?is-external=true" title="class or interface in javax.xml.stream">XMLEventWriter</a>&nbsp;writer,
                       <a href="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;repositoryHash,
                       <a href="http://java.sun.com/javase/6/docs/api/java/util/Date.html?is-external=true" title="class or interface in java.util">Date</a>&nbsp;currentDate)
                            throws <a href="../../../../org/fcrepo/server/journal/JournalException.html" title="class in org.fcrepo.server.journal">JournalException</a></pre>
<div class="block">Subclasses should call this method to initialize a new Journal file, if
 they already know the repository hash and the current date.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../org/fcrepo/server/journal/JournalException.html" title="class in org.fcrepo.server.journal">JournalException</a></code></dd></dl>
</li>
</ul>
<a name="writeDocumentTrailer(javax.xml.stream.XMLEventWriter)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeDocumentTrailer</h4>
<pre>protected&nbsp;void&nbsp;writeDocumentTrailer(<a href="http://java.sun.com/javase/6/docs/api/javax/xml/stream/XMLEventWriter.html?is-external=true" title="class or interface in javax.xml.stream">XMLEventWriter</a>&nbsp;writer)
                             throws <a href="../../../../org/fcrepo/server/journal/JournalException.html" title="class in org.fcrepo.server.journal">JournalException</a></pre>
<div class="block">Subclasses should call this method to close a Journal file.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../org/fcrepo/server/journal/JournalException.html" title="class in org.fcrepo.server.journal">JournalException</a></code></dd></dl>
</li>
</ul>
<a name="writeJournalEntry(org.fcrepo.server.journal.entry.CreatorJournalEntry, javax.xml.stream.XMLEventWriter)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>writeJournalEntry</h4>
<pre>protected&nbsp;void&nbsp;writeJournalEntry(<a href="../../../../org/fcrepo/server/journal/entry/CreatorJournalEntry.html" title="class in org.fcrepo.server.journal.entry">CreatorJournalEntry</a>&nbsp;journalEntry,
                     <a href="http://java.sun.com/javase/6/docs/api/javax/xml/stream/XMLEventWriter.html?is-external=true" title="class or interface in javax.xml.stream">XMLEventWriter</a>&nbsp;writer)
                          throws <a href="../../../../org/fcrepo/server/journal/JournalException.html" title="class in org.fcrepo.server.journal">JournalException</a></pre>
<div class="block">Format a JournalEntry object and write a JournalEntry tag to the journal.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../org/fcrepo/server/journal/JournalException.html" title="class in org.fcrepo.server.journal">JournalException</a></code></dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/JournalWriter.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/fcrepo/server/journal/JournalWorker.html" title="interface in org.fcrepo.server.journal"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../org/fcrepo/server/journal/ServerInterface.html" title="interface in org.fcrepo.server.journal"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/fcrepo/server/journal/JournalWriter.html" target="_top">Frames</a></li>
<li><a href="JournalWriter.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2013 <a href="http://www.duraspace.org/">DuraSpace</a>. All Rights Reserved.</small></p>
</body>
</html>
