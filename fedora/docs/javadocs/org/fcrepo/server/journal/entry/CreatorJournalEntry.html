<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_25) on Sat Sep 14 01:11:22 EDT 2013 -->
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<title>CreatorJournalEntry (Fedora Repository Project 3.7.0 API)</title>
<meta name="date" content="2013-09-14">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="CreatorJournalEntry (Fedora Repository Project 3.7.0 API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/CreatorJournalEntry.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/fcrepo/server/journal/entry/ConsumerJournalEntry.html" title="class in org.fcrepo.server.journal.entry"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../org/fcrepo/server/journal/entry/JournalEntry.html" title="class in org.fcrepo.server.journal.entry"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/fcrepo/server/journal/entry/CreatorJournalEntry.html" target="_top">Frames</a></li>
<li><a href="CreatorJournalEntry.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.fcrepo.server.journal.entry</div>
<h2 title="Class CreatorJournalEntry" class="title">Class CreatorJournalEntry</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../../../org/fcrepo/server/journal/entry/JournalEntry.html" title="class in org.fcrepo.server.journal.entry">org.fcrepo.server.journal.entry.JournalEntry</a></li>
<li>
<ul class="inheritance">
<li>org.fcrepo.server.journal.entry.CreatorJournalEntry</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">CreatorJournalEntry</span>
extends <a href="../../../../../org/fcrepo/server/journal/entry/JournalEntry.html" title="class in org.fcrepo.server.journal.entry">JournalEntry</a></pre>
<div class="block">The <a href="../../../../../org/fcrepo/server/journal/entry/JournalEntry.html" title="class in org.fcrepo.server.journal.entry"><code>JournalEntry</code></a> to use when creating a journal file.
 <p>
 When invoking the management method, take a moment to write to the journal
 before returning.</div>
<dl><dt><span class="strong">Author:</span></dt>
  <dd>Jim Blake</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../../org/fcrepo/server/journal/entry/CreatorJournalEntry.html#CreatorJournalEntry(java.lang.String, org.fcrepo.server.Context)">CreatorJournalEntry</a></strong>(<a href="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;methodName,
                   <a href="../../../../../org/fcrepo/server/Context.html" title="interface in org.fcrepo.server">Context</a>&nbsp;context)</code>
<div class="block">Don't store the Context that was given; store a writable version of it.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/fcrepo/server/journal/entry/CreatorJournalEntry.html#invokeAndClose(org.fcrepo.server.management.ManagementDelegate, org.fcrepo.server.journal.JournalWriter)">invokeAndClose</a></strong>(<a href="../../../../../org/fcrepo/server/management/ManagementDelegate.html" title="interface in org.fcrepo.server.management">ManagementDelegate</a>&nbsp;delegate,
              <a href="../../../../../org/fcrepo/server/journal/JournalWriter.html" title="class in org.fcrepo.server.journal">JournalWriter</a>&nbsp;writer)</code>
<div class="block">A convenience method that invokes the management method and then closes
 the JournalEntry, thereby cleaning up any temp files.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/fcrepo/server/journal/entry/CreatorJournalEntry.html#invokeMethod(org.fcrepo.server.management.ManagementDelegate, org.fcrepo.server.journal.JournalWriter)">invokeMethod</a></strong>(<a href="../../../../../org/fcrepo/server/management/ManagementDelegate.html" title="interface in org.fcrepo.server.management">ManagementDelegate</a>&nbsp;delegate,
            <a href="../../../../../org/fcrepo/server/journal/JournalWriter.html" title="class in org.fcrepo.server.journal">JournalWriter</a>&nbsp;writer)</code>
<div class="block">Process the management method:
 
 Check the operating mode - if we are in
 <a href="../../../../../org/fcrepo/server/journal/JournalOperatingMode.html#READ_ONLY"><code>Read-Only</code></a> mode, this check will
 throw an exception.
 Prepare the writer in case we need to initialize a new file with a
 repository hash.
 Invoke the method on the ManagementDelegate.
 Write the full journal entry, including any context changes from the
 Management method.
 
 These operations occur within a synchronized block.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_org.fcrepo.server.journal.entry.JournalEntry">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.fcrepo.server.journal.entry.<a href="../../../../../org/fcrepo/server/journal/entry/JournalEntry.html" title="class in org.fcrepo.server.journal.entry">JournalEntry</a></h3>
<code><a href="../../../../../org/fcrepo/server/journal/entry/JournalEntry.html#addArgument(java.lang.String, boolean)">addArgument</a>, <a href="../../../../../org/fcrepo/server/journal/entry/JournalEntry.html#addArgument(java.lang.String, java.io.InputStream)">addArgument</a>, <a href="../../../../../org/fcrepo/server/journal/entry/JournalEntry.html#addArgument(java.lang.String, int)">addArgument</a>, <a href="../../../../../org/fcrepo/server/journal/entry/JournalEntry.html#addArgument(java.lang.String, java.lang.Object)">addArgument</a>, <a href="../../../../../org/fcrepo/server/journal/entry/JournalEntry.html#close()">close</a>, <a href="../../../../../org/fcrepo/server/journal/entry/JournalEntry.html#getArgumentsMap()">getArgumentsMap</a>, <a href="../../../../../org/fcrepo/server/journal/entry/JournalEntry.html#getBooleanArgument(java.lang.String)">getBooleanArgument</a>, <a href="../../../../../org/fcrepo/server/journal/entry/JournalEntry.html#getContext()">getContext</a>, <a href="../../../../../org/fcrepo/server/journal/entry/JournalEntry.html#getDateArgument(java.lang.String)">getDateArgument</a>, <a href="../../../../../org/fcrepo/server/journal/entry/JournalEntry.html#getIntegerArgument(java.lang.String)">getIntegerArgument</a>, <a href="../../../../../org/fcrepo/server/journal/entry/JournalEntry.html#getMethod()">getMethod</a>, <a href="../../../../../org/fcrepo/server/journal/entry/JournalEntry.html#getMethodName()">getMethodName</a>, <a href="../../../../../org/fcrepo/server/journal/entry/JournalEntry.html#getStreamArgument(java.lang.String)">getStreamArgument</a>, <a href="../../../../../org/fcrepo/server/journal/entry/JournalEntry.html#getStringArgument(java.lang.String)">getStringArgument</a>, <a href="../../../../../org/fcrepo/server/journal/entry/JournalEntry.html#getStringArrayArgument(java.lang.String)">getStringArrayArgument</a>, <a href="../../../../../org/fcrepo/server/journal/entry/JournalEntry.html#setRecoveryValue(java.lang.String, java.lang.String)">setRecoveryValue</a>, <a href="../../../../../org/fcrepo/server/journal/entry/JournalEntry.html#setRecoveryValues(java.lang.String, java.lang.String[])">setRecoveryValues</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a>, <a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long, int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="CreatorJournalEntry(java.lang.String, org.fcrepo.server.Context)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>CreatorJournalEntry</h4>
<pre>public&nbsp;CreatorJournalEntry(<a href="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;methodName,
                   <a href="../../../../../org/fcrepo/server/Context.html" title="interface in org.fcrepo.server">Context</a>&nbsp;context)</pre>
<div class="block">Don't store the Context that was given; store a writable version of it.</div>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="invokeMethod(org.fcrepo.server.management.ManagementDelegate, org.fcrepo.server.journal.JournalWriter)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>invokeMethod</h4>
<pre>public&nbsp;<a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;invokeMethod(<a href="../../../../../org/fcrepo/server/management/ManagementDelegate.html" title="interface in org.fcrepo.server.management">ManagementDelegate</a>&nbsp;delegate,
                  <a href="../../../../../org/fcrepo/server/journal/JournalWriter.html" title="class in org.fcrepo.server.journal">JournalWriter</a>&nbsp;writer)
                    throws <a href="../../../../../org/fcrepo/server/errors/ServerException.html" title="class in org.fcrepo.server.errors">ServerException</a>,
                           <a href="../../../../../org/fcrepo/server/journal/JournalException.html" title="class in org.fcrepo.server.journal">JournalException</a></pre>
<div class="block">Process the management method:
 <ul>
 <li>Check the operating mode - if we are in
 <a href="../../../../../org/fcrepo/server/journal/JournalOperatingMode.html#READ_ONLY"><code>Read-Only</code></a> mode, this check will
 throw an exception.</li>
 <li>Prepare the writer in case we need to initialize a new file with a
 repository hash.</li>
 <li>Invoke the method on the ManagementDelegate.</li>
 <li>Write the full journal entry, including any context changes from the
 Management method.</li>
 </ul>
 These operations occur within a synchronized block. We must be sure that
 any pending operations are complete before we get the repository hash, so
 we are confident that the hash accurately reflects the state of the
 repository. Since all API-M operations go through this synchronized
 block, we can be confident that the previous one had completed before the
 current one started.
 <p>
 There might be a way to enforce the synchronization at a lower level,
 thus increasing throughput, but we haven't explored it yet.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../../org/fcrepo/server/errors/ServerException.html" title="class in org.fcrepo.server.errors">ServerException</a></code></dd>
<dd><code><a href="../../../../../org/fcrepo/server/journal/JournalException.html" title="class in org.fcrepo.server.journal">JournalException</a></code></dd></dl>
</li>
</ul>
<a name="invokeAndClose(org.fcrepo.server.management.ManagementDelegate, org.fcrepo.server.journal.JournalWriter)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>invokeAndClose</h4>
<pre>public&nbsp;<a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;invokeAndClose(<a href="../../../../../org/fcrepo/server/management/ManagementDelegate.html" title="interface in org.fcrepo.server.management">ManagementDelegate</a>&nbsp;delegate,
                    <a href="../../../../../org/fcrepo/server/journal/JournalWriter.html" title="class in org.fcrepo.server.journal">JournalWriter</a>&nbsp;writer)
                      throws <a href="../../../../../org/fcrepo/server/errors/ServerException.html" title="class in org.fcrepo.server.errors">ServerException</a>,
                             <a href="../../../../../org/fcrepo/server/journal/JournalException.html" title="class in org.fcrepo.server.journal">JournalException</a></pre>
<div class="block">A convenience method that invokes the management method and then closes
 the JournalEntry, thereby cleaning up any temp files.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../../org/fcrepo/server/errors/ServerException.html" title="class in org.fcrepo.server.errors">ServerException</a></code></dd>
<dd><code><a href="../../../../../org/fcrepo/server/journal/JournalException.html" title="class in org.fcrepo.server.journal">JournalException</a></code></dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/CreatorJournalEntry.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/fcrepo/server/journal/entry/ConsumerJournalEntry.html" title="class in org.fcrepo.server.journal.entry"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../org/fcrepo/server/journal/entry/JournalEntry.html" title="class in org.fcrepo.server.journal.entry"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/fcrepo/server/journal/entry/CreatorJournalEntry.html" target="_top">Frames</a></li>
<li><a href="CreatorJournalEntry.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2013 <a href="http://www.duraspace.org/">DuraSpace</a>. All Rights Reserved.</small></p>
</body>
</html>
